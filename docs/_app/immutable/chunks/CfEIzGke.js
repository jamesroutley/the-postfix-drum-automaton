import{c as x,h as b,d as D,E as R,r as U,H as F,e as w,s as C,f as T,i as H,j as N,k as L,U as O,l as j,m as q,p as M,n as P,t as Y,o as Z,u as I,v as $,w as z,x as B}from"./DRvwk4lc.js";import{s as G,g as J}from"./C7XmtjBk.js";function V(s,i,u=!1){b&&D();var e=s,r=null,a=null,n=O,k=u?R:0,c=!1;const A=(l,t=!0)=>{c=!0,m(t,l)};var f=null;function p(){f!==null&&(f.lastChild.remove(),e.before(f),f=null);var l=n?r:a,t=n?a:r;l&&q(l),t&&M(t,()=>{n?a=null:r=null})}const m=(l,t)=>{if(n===(n=l))return;let h=!1;if(b){const S=U(e)===F;!!n===S&&(e=w(),C(e),T(!1),h=!0)}var g=j(),_=e;if(g&&(f=document.createDocumentFragment(),f.append(_=H())),n?r??=t&&N(()=>t(_)):a??=t&&N(()=>t(_)),g){var d=L,y=n?r:a,E=n?a:r;y&&d.skipped_effects.delete(y),E&&d.skipped_effects.add(E),d.add_callback(p)}else p();h&&T(!0)};x(()=>{c=!1,i(A),c||m(null,null)},k),b&&(e=P)}let o=!1,v=Symbol();function W(s,i,u){const e=u[i]??={store:null,source:$(void 0),unsubscribe:I};if(e.store!==s&&!(v in u))if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=I;else{var r=!0;e.unsubscribe=G(s,a=>{r?e.source.v=a:B(e.source,a)}),r=!1}return s&&v in u?J(s):z(e.source)}function X(){const s={};function i(){Y(()=>{for(var u in s)s[u].unsubscribe();Z(s,v,{enumerable:!1,value:!0})})}return[s,i]}function ee(s){var i=o;try{return o=!1,[s(),o]}finally{o=i}}export{W as a,ee as c,V as i,X as s};
